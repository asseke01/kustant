<div class="main-container">
  <app-navbar></app-navbar>

  <div class="test-result__content">
    <h1>Тестілеу нәтижесі</h1>
    <p class="subject-title">{{ subject_display }} {{ subject === "ubt" ? '' : test_type_display }}</p>

    <!-- Display all subjects with scores if subject === "ubt" -->
    <div *ngIf="subject === 'ubt'" class="subjects">
      <div class="row">
        <p>Пәндер атауы</p>
        <p>Жинаған балдары</p>
      </div>
      <hr>
      <div *ngFor="let subj of subjects | keyvalue; let last = last">
        <div class="row">
          <p>{{ subj.key }}</p>
          <p>{{ subj.value }}</p>
        </div>
        <hr *ngIf="!last">
      </div>
    </div>

    <!-- Display only one subject with score if subject !== "ubt" -->
    <div *ngIf="subject !== 'ubt'" class="subjects">
      <div class="row">
        <p>Пәндер атауы</p>
        <p>Жинаған балдары</p>
      </div>
      <hr>
      <ng-container *ngFor="let subj of subjects | keyvalue; let i = index">
        <div *ngIf="i === 0" class="row">
          <p>{{ subj.key }}</p>
          <p>{{ subj.value }}</p>
        </div>
      </ng-container>
    </div>

    <div class="result-summary">
      <p><span>Барлығы:</span> {{ taken_marks }} балл</p>
      <p><span>Мүмкін болған:</span> {{ over_all_marks }} балл</p>
      <p><span>Басталған уақыт:</span> {{ started_on }}</p>
    </div>

    <button class="error-button" (click)="navigateToTestReview()">Қатемен жұмыс</button>
  </div>
</div>
<app-user-footer></app-user-footer>
